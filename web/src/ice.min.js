"use strict";!function(){window.ice=function(str,obj){return new ice.init(str,obj)},ice.version="2.0.4",ice.site="https://iceui.cn",-1==navigator.userAgent.toUpperCase().indexOf("MSIE")?console.log.apply(console,["%c %c %c %c　ICEUI "+ice.version+" - ★ 古月长情 ★  %c  %c %c   "+ice.site+"  %c ❤ %c❤ %c❤",'background:#8783e1;padding:2px 0;font-size:12px;font-family:"Microsoft YaHei";margin:5px 0;','background:#9d99f6;padding:2px 0;font-size:12px;font-family:"Microsoft YaHei";margin:5px 0;','background:#aeabf4;padding:2px 0;font-size:12px;font-family:"Microsoft YaHei";','color:#8783e1;padding:2px 0;background:#ecebff;font-size:12px;font-family:"Microsoft YaHei";','background:#aeabf4;padding:2px 0;font-size:12px;font-family:"Microsoft YaHei";','background:#aeabf4;padding:2px 0;font-size:12px;font-family:"Microsoft YaHei";','color:#8783e1;text-decoration:none;padding:2px 0;font-size:12px;font-family:"Microsoft YaHei";',"color:#8783e1;background:#fff; padding:2px 0;font-size:12px;","color:#8783e1;background:#fff; padding:2px 0;font-size:12px;","color:#8783e1;background:#fff; padding:2px 0;font-size:12px;"]):console.log("ICEUI "+ice.version+" - 古月长情 - "+ice.site),ice.src=document.currentScript?document.currentScript.src:document.scripts[document.scripts.length-1].src,ice.path=ice.src.replace(window.location.origin,""),ice.path=ice.path.substring(0,ice.path.lastIndexOf("/")+1),ice.loadJs=function(url,callback,type="text/javascript"){if(!url)return!1;for(var s=ice("script"),i=0;i<s.length;i++)if(s[i].src&&-1!==s[i].src.indexOf(url))return callback();var head=document.getElementsByTagName("head")[0],script=document.createElement("script");type&&type.length&&(script.type=type),script.src=url,script.onload=function(){callback&&callback()},head.appendChild(script)},ice.loadCss=function(url){var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.type="text/css",link.rel="stylesheet",link.href=url,head.appendChild(link)},ice.init=function(str,obj){var nodeType;if(this.length=0,obj=obj||document,obj="[object HTMLFormElement]"==Object.prototype.toString.call(obj)?[obj]:obj,"string"==typeof str&&-1==str.indexOf(" ")&&0===!str.indexOf(".")&&0===!str.indexOf("[")){var a=str[0],b=str.slice(1);if(obj.length){for(var arr=[],i=0;i<obj.length;i++){if("#"==a)return-1!==str.indexOf("[")?ice.elThat(this,obj.querySelectorAll(str)):ice.elThat(this,document.getElementById(b));var el;if("."==a){if((el=obj[i].getElementsByClassName(b))[0])for(var s=0;s<el.length;s++)arr.push(el[s])}else if(-1==str.indexOf("[")&&-1==str.indexOf(":")){var el;if((el=obj[i].getElementsByTagName(str))[0])for(var s=0;s<el.length;s++)arr.push(el[s])}else if("["==a){var el;if((el=obj[i].querySelectorAll(str))[0])for(var s=0;s<el.length;s++)arr.push(el[s])}}return ice.elThat(this,arr)}if("#"==a)return-1!==str.indexOf("[")?ice.elThat(this,obj.querySelectorAll(str)):ice.elThat(this,document.getElementById(b));if("."==a)return ice.elThat(this,obj.getElementsByClassName(b));if(-1==str.indexOf("[")&&-1==str.indexOf(":"))return 0!=obj.length&&ice.elThat(this,obj.getElementsByTagName(str))}if("object"==typeof str)return ice.elThat(this,str);if("function"!=typeof str){if(obj.length){for(var arr=[],i=0;i<obj.length;i++){var el;if((el=obj[i].querySelectorAll(str))[0])for(var s=0;s<el.length;s++)arr.push(el[s])}return ice.elThat(this,arr)}return 0!==obj.length&&ice.elThat(this,obj.querySelectorAll(str))}ice.ready(str)},ice.init.prototype={each:function(fn){return ice.each(this,fn)},s:function(s){return ice(this[s])},i:function(s){return ice(this[s])},val:function(v){return ice.val(this,v)},html:function(v){return ice.html(this,v)},text:function(v){return ice.text(this,v)},form:function(){return ice.form(this)},append:function(html){return ice.append(this,html)},prepend:function(html){return ice.prepend(this,html)},before:function(html){return ice.before(this,html)},after:function(html){return ice.after(this,html)},page:function(){return ice.page(this)},clone:function(){return ice.clone(this)},checkall:function(){return ice.checkall(this)},inverse:function(){return ice.inverse(this)},getCss:function(attr){return ice.getCss(this,attr)},del:function(){return ice.del(this)},offset:function(){return ice.offset(this)},css:function(name,v){return ice.css(this,name,v)},attr:function(name,v){return ice.attr(this,name,v)},delAttr:function(name){return ice.delAttr(this,name)},delCss:function(name){return ice.delCss(this,name)},click:function(fn){return ice.click(this,fn)},dblclick:function(fn){return ice.dblclick(this,fn)},change:function(fn){return ice.change(this,fn)},on:function(type,fn,bool){return ice.on(this,type,fn,bool)},trigger:function(ev,bubbles=!0,cancelable=!1,composed=!1){return ice.trigger(this,ev,bubbles,cancelable,composed)},find:function(name){return ice.find(this,name)},children:function(name){return ice.children(this,name)},childrens:function(name){return ice.childrens(this,name)},siblings:function(name){return ice.siblings(this,name)},prev:function(name){return ice.prev(this,name)},next:function(name){return ice.next(this,name)},parent:function(){return ice.parent(this)},parents:function(){return ice.parents(this)},addCss:function(name){return ice.addCss(this,name)},hasCss:function(name){return ice.hasCss(this,name)},hasStyle:function(name){return ice.hasStyle(this,name)},toggleCss:function(nameA,nameB,fnA,fnB){return ice.toggleCss(this,nameA,nameB,fnA,fnB)},show:function(){return ice.show(this)},hide:function(){return ice.hide(this)},toggle:function(fnA,fnB){return ice.toggle(this,fnA,fnB)},opacity:function(s){return ice.opacity(this,s)},fadeIn:function(speed,callback){return ice.fadeIn(this,speed,callback)},fadeOut:function(speed,callback){return ice.fadeOut(this,speed,callback)},fadeToggle:function(speed,callback){return ice.fadeToggle(this,speed,callback)},slideDown:function(time,callback){return ice.slideDown(this,time,callback)},slideUp:function(time,callback){return ice.slideUp(this,time,callback)},slideToggle:function(time,callback){return ice.slideToggle(this,time,callback)},animate:function(json,options){return ice.animate(this,json,options)}},ice.isFunction=function(obj){return"function"==typeof obj&&"number"!=typeof obj.nodeType},ice.isWindow=function isWindow(obj){return null!=obj&&obj===obj.window},ice.isArrayLike=function(obj){var length=!!obj&&"length"in obj&&obj.length,type=typeof obj;return!ice.isFunction(obj)&&!ice.isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj)},ice.elThat=function(that,el){if(!el||"object"==typeof el&&0===el.length||"array"==typeof el&&0===el.length)return that;if("SELECT"==el.tagName||"FORM"==el.tagName)that.length=1,that[0]=el;else if(el.length){that.length=el.length;let i=0;for(;i<el.length;i++)that[i]=el[i]}else that.length=1,that[0]=el;return that},ice.each=function(el,fn){if(ice.isWindow(el))return fn.call(el,0,el),el;if(!el)return!1;var length,i=0;if(ice.isArrayLike(el))for(length=el.length;i<length&&!1!==fn.call(el[i],i,el[i],el,length);i++);else for(i in el)if(!1===fn.call(el[i],i,el[i],el,length))break;return el},ice.eachNode=function(el,fn,s){if(s=s||0,el.children&&"TEMPLATE"!=el.tagName)for(var i=0;i<el.children.length;i++)s+=i+1,fn.call(el.children[i],s),el.children[i].children&&ice.eachNode(el.children[i],fn,s)},ice.toDom=function(html){if("string"==typeof html){var temp=document.createElement("div");temp.innerHTML=html;for(var frag=document.createDocumentFragment();temp.firstChild;)frag.appendChild(temp.firstChild);return frag}return html},ice.cloneObj=function(obj){if(!obj)return obj;if("object"!=typeof obj)return obj;let newObj=Array.isArray(obj)?[]:{};for(let key in obj)newObj[key]=ice.cloneObj(obj[key]);return newObj},ice.c=function(name){return document.createElement(name)},ice.cf=function(){return document.createDocumentFragment()},ice.p=function(num){class iceP{constructor(s){return this.s=s,this}add(s=0){return this.s=this.operation(this.s,s,"add"),this}sub(s=0){return this.s=this.operation(this.s,s,"sub"),this}mul(s=1){return this.s=this.operation(this.s,s,"mul"),this}exc(s=1){return this.s=this.operation(this.s,s,"exc"),this}dec(s){return this.s<0?-this._dec(this.s,s):this._dec(this.s,s)}tra(s){return this._tra(this.s,s)}int(){return this.s<0?-this._int(this.s):this._int(this.s)}_tra(s,place){var a=s,arr=(a=null!==(a=(a+"").match(place?new RegExp("(-?\\d+\\.\\d{0,"+place+"})|(-?\\d+$)"):new RegExp("(-?\\d+\\.\\d+)|(-?\\d+$)")))?a[0]:"0").split(".");arr[1]=arr[1]?arr[1]:"";for(let i=0,len=place-arr[1].length;i<len;i++)arr[1]+="0";return a=arr.join(".")}_dec(s,place){var a=s;return a=null!==(a=(a+"").match(place?new RegExp("(\\d+\\.?\\d{0,"+place+"})"):new RegExp("(\\d+\\.?\\d+)")))?a[0]:""}_int(s){var a=s;return a=null!==(a=(a+"").match(new RegExp("(\\d+)")))?a[0]:""}isInteger(s){return Math.floor(s)===s}toInteger(floatNum){var ret={times:1,num:0};if(this.isInteger(floatNum))return ret.num=floatNum,ret;var strfi=floatNum+"",dotPos=strfi.indexOf("."),len=strfi.slice(dotPos+1).length,times=Math.pow(10,len),intNum=parseInt(floatNum*times+(floatNum<0?-.5:.5),10);return ret.times=times,ret.num=intNum,ret}operation(a,b,op){a=Number(a),b=Number(b);var o1=this.toInteger(a),o2=this.toInteger(b),n1=o1.num,n2=o2.num,t1=o1.times,t2=o2.times,max=t1>t2?t1:t2,result;switch(op){case"add":return(result=t1===t2?n1+n2:t1>t2?n1+n2*(t1/t2):n1*(t2/t1)+n2)/max;case"sub":return(result=t1===t2?n1-n2:t1>t2?n1-n2*(t1/t2):n1*(t2/t1)-n2)/max;case"mul":return n1*n2/(t1*t2);case"exc":return n1/n2*(t2/t1)}}}return new iceP(num)},ice.jsonDecode=function(str,bool){if(!str||!str.length)return!1;var obj=eval("("+str+")");if(bool){var arr=[];for(var i in obj)arr.push(obj[i]);return arr}return obj},ice.sp=function(event){window.event?window.event.cancelBubble=!0:event.stopPropagation()},ice.pd=function(event){window.event?window.event.returnValue=!1:event.preventDefault()},ice.mouseWheel=function(obj,fn){function stopDefault(e){return e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1,!1}function wheel(event){stopDefault(event);var delta=0;event||(event=obj.event),event.wheelDelta?(delta=event.wheelDelta/120,obj.opera&&(delta=-delta)):event.detail&&(delta=-event.detail/3),delta&&fn(delta)}obj.addEventListener&&obj.addEventListener("DOMMouseScroll",wheel,!1),obj.onmousewheel=wheel},ice.data=function(name,value){if(void 0===name)return sessionStorage;if(void 0===value){if("object"!=typeof name)return getData(name);for(var k in name)setData(k,name[k])}function setData(k,v){let obj=sessionStorage.getItem("_iceDataType");obj=obj?ice.str2obj(obj):{},obj[k]=typeof v,"object"===obj[k]&&(v=ice.obj2str(v)),sessionStorage.setItem(k,v),sessionStorage.setItem("_iceDataType",ice.obj2str(obj))}function getData(k){let v=sessionStorage.getItem(k),obj=sessionStorage.getItem("_iceDataType");if(obj){if(obj=ice.str2obj(obj),"number"===obj[k])return Number(v);if("object"===obj[k])return ice.str2obj(v);if("function"===obj[k])return ice.str2obj(v);if("boolean"===obj[k])return"true"===v.toLowerCase()}return v}void 0!==value&&setData(name,value)},ice.delData=function(name){if(name)sessionStorage.removeItem(name);else for(var k in sessionStorage)sessionStorage.removeItem(k)},ice.localData=function(name,value){if(void 0===name)return localStorage;if(void 0===value){if("object"!=typeof name)return getData(name);for(var k in name)setData(k,name[k])}function setData(k,v){let obj=localStorage.getItem("_iceDataType");obj=obj?ice.str2obj(obj):{},obj[k]=typeof v,"object"===obj[k]&&(v=ice.obj2str(v)),localStorage.setItem(k,v),localStorage.setItem("_iceDataType",ice.obj2str(obj))}function getData(k){let v=localStorage.getItem(k),obj=localStorage.getItem("_iceDataType");if(obj){if(obj=ice.str2obj(obj),"number"===obj[k])return Number(v);if("object"===obj[k])return ice.str2obj(v);if("function"===obj[k])return ice.str2obj(v);if("boolean"===obj[k])return"true"===v.toLowerCase()}return v}void 0!==value&&setData(name,value)},ice.delLocalData=function(name){if(name)localStorage.removeItem(name);else for(var k in localStorage)localStorage.removeItem(k)},ice.setCookie=function(name,value,day=1){var t=new Date;t.setDate(t.getDate()+day),document.cookie=name+"="+value+";expires="+t.toUTCString()},ice.getCookie=function(name){for(var arr=document.cookie.split("; "),i=0;i<arr.length;i++){var arr2=arr[i].split("=");if(arr2[0]==name)return arr2[1]}return""},ice.delCookie=function(name){document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"},ice.isMobile=function(){return!!/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)},ice.toSize=function(bytes){if(0===bytes)return"0 B";var k=1024,sizes=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(bytes)/Math.log(k));return(bytes/Math.pow(k,i)).toPrecision(3)+" "+sizes[i]},ice.getUrl=function(name,url){url=url||0;var reg=new RegExp("(^|&)"+name+"=([^&]*)(&|$)","i"),r=url?url.search.slice(1).match(reg):window.location.search.slice(1).match(reg);return null!=r?decodeURI(r[2]):null},ice.ready=function(){var f=[],r=!1;function handler(e){if(!r&&("onreadystatechange"!==e.type||"complete"===document.readyState)){for(var i=0;i<f.length;i++)f[i].call(document);r=!0,f=null}}return document.addEventListener?(document.addEventListener("DOMContentLoaded",handler,!1),document.addEventListener("readystatechange",handler,!1),window.addEventListener("load",handler,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",handler),window.attachEvent("onload",handler)),function ready(fn){r?fn.call(document):f.push(fn)}}(),ice.isJson=function(str){if("string"==typeof str)try{return JSON.parse(str),!0}catch(e){return!1}return!1},ice.ajax=function(json,data){if("string"==typeof json&&(json={url:json},data&&(json.data=data)),!1!==json.ajaxConf&&"function"==typeof ice.ajaxConf&&(json=ice.ajaxConf(json)),json&&json.url)return json.type=json.type||"post",json.timeout=json.timeout||15e3,json.async=null==json.async||json.async,json.json=null==json.json||json.json,new Promise((resolve,reject)=>{if(!json.data)if(json.form)json.data=ice(json.form).form();else{var form=ice("#form");form.length&&(json.data=form.form())}var json2url=function(json){var arr=[];function arrPush(k,v){arr.push(k+"="+encodeURIComponent(v))}for(var name in json)if(Array.isArray(json[name]))if("object"==typeof json[name][0])arrPush(name,ice.obj2str(json[name]));else for(var k in json[name])arrPush(name,json[name][k]);else"object"==typeof json[name]?arrPush(name,ice.obj2str(json[name])):arrPush(name,json[name]);return arr.join("&")},xhr=new XMLHttpRequest;switch(json.type.toLowerCase()){case"post":if(xhr.open("POST",json.url,json.async),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),json.data instanceof FormData==0&&xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),json.header)for(var k in json.header)xhr.setRequestHeader(k,json.header[k]);xhr.send(json.data instanceof FormData?json.data:json2url(json.data));break;default:var _data=json2url(json.data),_url=json.url+(_data.length?(json.url.indexOf("?")>-1?"&":"?")+_data:"");xhr.open("GET",_url,json.async),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.send()}json.loading&&json.loading(),json.timer=setTimeout((function(){xhr.onreadystatechange=null,json.error&&json.error("网络超时。"),json.complete&&json.complete(408)}),json.timeout),xhr.onreadystatechange=function(){if(4==xhr.readyState)if(clearTimeout(json.timer),xhr.status>=200&&xhr.status<300||304==xhr.status){if(xhr.responseText.length>0)if(ice.isJson(xhr.responseText))var res=json.json?JSON.parse(xhr.responseText):xhr.responseText;else var res=json.json?{code:200,data:xhr.responseText}:xhr.responseText;else var res="";resolve&&resolve(res),json.success&&json.success(res),json.complete&&json.complete(res)}else reject&&reject(xhr.status,xhr.responseText),json.error&&json.error(xhr.status,xhr.responseText),json.complete&&json.complete(xhr.status,xhr.responseText)}})},ice.get=function(options,data,success,error,complete){var completeFn,json=options||{};if("string"==typeof options?((json={}).url=options,data&&(json.data=data),success&&(json.success=success),error&&(json.error=error),complete&&(completeFn=complete)):completeFn=options.complete||!1,json.complete=function(status,responseText){completeFn&&completeFn(status,responseText)},json.url)return json.type="get",ice.ajax(json)},ice.post=function(options,data,success,error,complete){var completeFn,json=options||{};if("string"==typeof options?((json={}).url=options,data&&(json.data=data),success&&(json.success=success),error&&(json.error=error),complete&&(completeFn=complete)):completeFn=options.complete||!1,json.complete=function(status,responseText){completeFn&&completeFn(status,responseText)},json.url)return json.type="post",ice.ajax(json)},ice.pjax=function(json,push){if((json=json||{}).el=json.el?json.el:"body",json.empty=json.empty||'<h2 class="text-center m40">页面出错 ＞﹏＜</h2>',json.url=json.url||window.location.href,json.url&&"#"!=json.url&&"javascript:"!=json.url.trim().toLowerCase().slice(0,11)){var load;if(ice.pjax.render=function(){ice.pjax(json)},ice.pjax.open=function(url){json.url=url||json.url,ice.pjax(json)},json.loading){var html=json.loading.html||!1,box=json.loading.box||"body";html&&((load=ice.c("div")).innerHTML=html,ice(box).append(load))}else(load=ice.c("div")).className="pjax-loading",ice("body").append(load);if(ice.pjaxRun||(ice.pjaxRun=!0,ice("a").on("click",(function(){var url=ice(this).attr("href"),isPjax=ice(this).attr("data-pjax");if("_blank"!=ice(this).attr("target")&&"false"!=isPjax&&"#"!=url&&"javascript:"!=url.trim().toLowerCase().slice(0,11))return ice.pd(),json.url=url,ice.pjax(json),!1})),window.addEventListener("popstate",(function(e){json.url=window.location.href,ice.pjax(json,!0)}),!1)),push||history.pushState(null,null,json.url),!json.first)return load&&ice(load).del(),void(json.first=!0);ice.ajax({url:json.url,type:json.type?json.type:"post",success:function(res){ice(json.el).html(""),ice(json.el).html(res.data),window.scrollTo(0,0);var js="",script=ice(json.el+" script"),oldScript=ice("script");script.each((function(){js+=this.innerHTML})),ice(json.el+" a").on("click",(function(){var url=ice(this).attr("href"),isPjax=ice(this).attr("data-pjax");if("_blank"!=ice(this).attr("target")&&"false"!=isPjax&&"#"!=url&&"javascript:"!=url.trim().toLowerCase().slice(0,11))return ice.pd(),json.url=url,ice.pjax(json),!1})),function runJs(i,callback){var s=script[i];s&&s.src&&i<script.length?(oldScript.each((function(){this.src==s.src&&ice(this).del()})),ice(script[i]).del(),ice.loadJs(s.src,(function(){runJs(i+1,callback)}))):callback&&callback()}(0,(function(){js.trim().length&&window.eval(js),json.success&&json.success()}))},error:function(res){ice(json.el).html(json.empty),json.error&&json.error(res)},complete:function(){load&&ice(load).del(),json.complete&&json.complete()}})}},ice.keydown=function(key,callback){document.addEventListener("keydown",(function(e){var theEvent=window.event||e,code=theEvent.keyCode||theEvent.which||theEvent.charCode;"function"==typeof key?key.call(theEvent,code,e):code==key?"string"==typeof callback?eval(callback):callback&&callback.call(theEvent,code,e):null==key&&("string"==typeof callback?eval(callback):callback&&callback.call(theEvent,code,e))}))},ice.scroll=function(a){var x="CSS1Compat"==document.compatMode?window.pageXOffset||document.documentElement.scrollLeft:document.body.scrollLeft,y="CSS1Compat"==document.compatMode?window.pageYOffset||document.documentElement.scrollTop:document.body.scrollTop;return"x"==a?x:"y"==a?y:a?obj:{x:x,y:y}},ice.setScrollT=function(){document.body.scrollTop=document.documentElement.scrollTop=0},ice.setScrollB=function(){document.body.scrollTop=document.documentElement.scrollTop=document.body.scrollHeight},ice.web=function(){var web={};return web.w=window.innerWidth,web.h=window.innerHeight,"number"!=typeof web.w&&("CSS1Compat"==document.compatMode?(web.w=document.documentElement.clientWidth,web.h=document.documentElement.clientHeight):(web.w=document.body.clientWidth,web.h=document.body.clientHeight)),web},ice.copy=function(text){var s=ice.scroll();let transfer=document.createElement("input");document.body.appendChild(transfer),transfer.value=text,transfer.focus(),transfer.select(),document.execCommand("copy")&&document.execCommand("copy"),transfer.blur(),document.body.removeChild(transfer),window.scroll(s.x,s.y)},ice.randInt=function(min,max){return min+Math.round((max-min)*Math.random())},ice.randStr=function(num){if(num){for(var str="";num--;)str+=Math.random()>.4?String.fromCharCode(ice.randInt(65,90)):String.fromCharCode(ice.randInt(48,57));return str}},ice.cid=function(str){return(str=str||"_id")+(new Date).getTime()+Math.floor(1e3*Math.random())},ice.jump=function(url){location.href=url},ice.clone=function(el){el=ice.dom2arr(el);var node=[];return ice.each(el,(function(){node.push(this.cloneNode(!0))})),ice(node)},ice.append=function(el,html){return el=ice.dom2arr(el),html=ice.toDom(html),ice.each(el,(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(html)}))},ice.prepend=function(el,html){return el=ice.dom2arr(el),html=ice.toDom(html),ice.each(el,(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(html,this.firstChild)}))},ice.before=function(el,html){return el=ice.dom2arr(el),html=ice.toDom(html),ice.each(el,(function(){this.parentNode&&this.parentNode.insertBefore(html,this)}))},ice.after=function(el,html){return el=ice.dom2arr(el),html=ice.toDom(html),ice.each(el,(function(){this.parentNode&&this.parentNode.insertBefore(html,this.nextSibling)}))},ice.form=function(el){el=ice.dom2arr(el);var arr={};function init(e){e.name&&(arr[e.name]?("object"!=typeof arr[e.name]&&(arr[e.name]=[arr[e.name]]),arr[e.name].push(e.value)):arr[e.name]=e.value)}return ice.each(el,(function(){ice("input",this).each((function(){"checkbox"==this.type?this.checked&&init(this):"radio"==this.type?this.checked&&init(this):init(this)})),ice("textarea",this).each((function(){init(this)})),ice("select",this).each((function(){init(this)}))})),arr},ice.show=function(el){return el=ice.dom2arr(el),ice.each(el,(function(){this.style.display="";let d=ice.getCss(this,"display"),o=ice.getCss(this,"opacity");this.style.opacity=0==Number(o)?1:this.style.opacity,this.style.display="none"==d?"initial":d,"hidden"==ice.getCss(this,"visibility")&&(this.style.visibility="visible")}))},ice.hide=function(el){return el=ice.dom2arr(el),ice.each(el,(function(){this.style.display="none"}))},ice.toggle=function(el,fnA,fnB){return el=ice.dom2arr(el),fnA=fnA||function(){},fnB=fnB||function(){},ice.each(el,(function(i,o){"none"==ice.getCss(this,"display")||"hidden"==ice.getCss(this,"visibility")?(ice.show(this),fnA.call(o,i,o)):(ice.hide(this),fnB.call(o,i,o))}))},ice.opacity=function(el,s){(el=ice.arr2dom(el)).filters?el.style.filter="alpha(opacity="+s+")":el.style.opacity=s/100},ice.fadeIn=function(el,speed,callback){return el=ice.dom2arr(el),callback=callback||function(){},speed=!0===speed?20:speed||20,ice.each(el,(function(a,b){var display=ice.attr(b,"data-fade");display?b.style.display=display:ice.setDisplay(b);var s=0;ice.opacity(b,s),function t(){ice.opacity(b,s),(s+=5)<=100?setTimeout(t,speed):callback.call(b,a,b)}()}))},ice.fadeOut=function(el,speed,callback){return el=ice.dom2arr(el),callback="function"==typeof speed?speed:callback,speed=!0===speed?20:speed||20,ice.each(el,(function(a,b){if("none"!=ice.getCss(el,"display")){ice.setDisplay(b);var s=this.style.opacity?100*this.style.opacity:this.filters?this.filters.alpha.opacity:100,display=ice.getDisplay(b);!function t(){ice.opacity(b,s),(s-=5)>=0?setTimeout(t,speed):s<0&&(b.style.display="none",ice.attr(b,"data-fade",display),callback&&callback.call(b,a,b))}()}}))},ice.fadeToggle=function(el,speed,callback){return el=ice.dom2arr(el),callback=callback||function(){},speed=!0===speed?20:speed||20,ice.each(el,(function(){"none"==ice.getCss(this,"display")?ice.fadeIn(this,speed,callback):ice.fadeOut(this,speed,callback)}))},ice.getDisplay=function(el){return"none"==(el=ice.arr2dom(el)).style.display&&(el.style.display=null),ice.getCss(el,"display")},ice.setDisplay=function(el){el=ice.arr2dom(el);let display=ice.getCss(el,"display");if("inline"==display)el.style.display="inline-block";else if("none"!=display)el.style.display=display;else{el.style.display=null;let display=ice.getCss(el,"display");el.style.display="inline"==display?"inline-block":"none"==display?"block":display}},ice.hasStyle=function(el,name){if("string"!=typeof el){el=ice.arr2dom(el);var attr=ice.attr(el,"style")}else var attr=el;if(!attr)return!1;for(var i=(attr=(attr=attr.replace(/\s/g,"")).split(";")).length;i--;)if(attr[i].split(":")[0]==name)return!0;return!1},ice.slideDown=function(el,speed,callback){return el=ice.dom2arr(el),callback=callback||function(){},speed=!0===speed?5:speed||5,ice.each(el,(function(i,obj){var display;if("none"==ice(this).getCss("display")){ice.setDisplay(this);var h=this.offsetHeight,a=0,s=1;this.style.overflow="hidden",this.style.height="0px",function down(){(a+=1+(s+=.6))<h?(obj.style.height=a+"px",setTimeout(down,speed)):(obj.style.overflow=null,obj.style.height=null,ice.attr(obj,"style",ice.attr(obj,"ice-slide")),ice.delAttr(obj,"ice-slide"),ice.setDisplay(obj),callback.call(obj,i,obj))}()}}))},ice.slideUp=function(el,speed,callback){return el=ice.dom2arr(el),callback=callback||function(){},speed=!0===speed?20:speed||20,ice.each(el,(function(i,obj){if(ice.attr(this,"ice-slide",ice.attr(this,"style")),"none"!=this.style.display){ice.setDisplay(this);var h,a=this.offsetHeight,s=1;this.style.overflow="hidden",function up(){(a-=1+(s+=.6))>10?(obj.style.height=a+"px",setTimeout(up,speed)):(obj.style.height=null,obj.style.display="none",obj.style.overflow=null,callback.call(obj,i,obj))}()}}))},ice.slideToggle=function(el,speed,callback){return el=ice.dom2arr(el),callback=callback||function(){},speed=!0===speed?20:speed||20,ice.each(el,(function(){"none"==ice.getCss(this,"display")?ice.slideDown(this,speed,callback):ice.slideUp(this,speed,callback)}))},ice.animationFrame=function(callback){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;!function b(){!1!==callback()&&a(b)}()},ice.animate=function(el,json,options){return el=ice.dom2arr(el),ice.each(el,(function(){move(this,json,options)}));function move(elem,jsonS,optionS){var duration=(optionS=optionS||{}).duration||500,easing=optionS.easing||"linear",start={},dis={},unit={};for(var name in jsonS){var n=parseInt(jsonS[name]);start[name]=parseFloat(ice.getCss(elem,name)),dis[name]=n-start[name],unit[name]=jsonS[name].slice(String(n).length)}var count=Math.floor(duration/100*6),n=0;ice.animationFrame((function(){if(n>count)return optionS.callback&&optionS.callback(),!1;for(var name in jsonS){switch(easing){case"linear":var a=n/count,cur=start[name]+dis[name]*a;break;case"ease-in":var a=n/count,cur=start[name]+dis[name]*a*a*a;break;case"ease-out":var a=1-n/count,cur=start[name]+dis[name]*(1-a*a*a)}"opacity"==name?(elem.style.opacity=cur,elem.style.filter="alpha(opacity="+100*cur+")"):elem.style[name]=cur+unit[name]}n++}))}},ice.html=function(el,v){return el=ice.dom2arr(el),"string"==typeof v||"number"==typeof v?ice.each(el,(function(){this.innerHTML=v})):"object"==typeof v&&v.tagName?ice.each(el,(function(){this.appendChild(v)})):el[0]?el[0].innerHTML:el.innerHTML},ice.text=function(el,v){return el=ice.dom2arr(el),v&&v.length?ice.each(el,(function(){this.innerText=v})):el[0]?el[0].innerText:el.innerText},ice.obj2str=function(obj){var a=JSON.stringify(obj,(function(key,val){if("function"==typeof val){var str="`"+val+"`";return str=str.split("\n").join("FN\\n").split("\t").join("FN\\t")}return val}));return a=a.replace(/("`)|(`")/g,"").replace(/FN\\\\n/g,"\n").replace(/FN\\\\t/g,"\t")},ice.str2obj=function(str){return eval("("+str+")")},ice.offset=function(el){for(var e=el=ice.arr2dom(el),x=e.offsetLeft,y=e.offsetTop;e=e.offsetParent;)x+=e.offsetLeft,y+=e.offsetTop;return{left:x,top:y}},ice.page=function(el){if(!(el=ice.arr2dom(el)))return!1;var box=el.getBoundingClientRect(),doc=el.ownerDocument,body=doc.body,html=doc.documentElement,clientTop=html.clientTop||body.clientTop||0,clientLeft=html.clientLeft||body.clientLeft||0,y=box.top+(self.pageYOffset||html.scrollTop||body.scrollTop)-clientTop,x;return{x:box.left+(self.pageXOffset||html.scrollLeft||body.scrollLeft)-clientLeft,y:y}},ice.checkall=function(el){return el=ice.dom2arr(el),ice.each(el,(function(){this.checked=!0}))},ice.inverse=function(el){return el=ice.dom2arr(el),ice.each(el,(function(){this.checked=!this.checked}))},ice.getCss=function(el,attr){return((el=ice.arr2dom(el)).currentStyle||getComputedStyle(el,!1))[attr]},ice.del=function(el){el=ice.dom2arr(el),ice.each(el,(function(){this.parentNode&&this.parentNode.removeChild(this)}))},ice.val=function(el,v){if(null==v){if("SELECT"===(el=ice.arr2dom(el)).tagName&&el.multiple){for(var arr=[],i=0;i<el.length;i++)el.options[i].selected&&arr.push(el[i].value);return arr}return null!=el.value?el.value:""}return el=ice.dom2arr(el),ice.each(el,(function(){if(this.selectedIndex=-1,null!=this.value)if("SELECT"===this.tagName){if(Array.isArray(v)&&this.multiple)for(var i=0;i<this.length;i++)this[i].selected=v.includes(this[i].value),this[i].selected?this[i].setAttribute("selected","selected"):this[i].removeAttribute("selected");else if(!Array.isArray(v)){v+="";for(var i=0;i<this.length;i++)this[i].value==v?(this.selectedIndex=i,this.value=v,this[i].selected=!0,this[i].setAttribute("selected","selected")):(this[i].selected=!1,this[i].removeAttribute("selected"))}}else this.value=v})),el},ice.css=function(el,name,value){if(el=ice.dom2arr(el),3==arguments.length&&value)return ice.each(el,(function(){this.style[name]=value}));if("string"==typeof name){var that=el;return ice.each(el,(function(){return that.getCss(this,name)}))}var json=name;return ice.each(el,(function(){for(var name in json)this.style[name]=json[name]}))},ice.attr=function(el,name,value){if(el=ice.dom2arr(el),value)return ice.each(el,(function(){this.setAttribute(name,value)}));if("string"==typeof name){var a=!!(el=el[0]?el[0]:el).getAttribute&&el.getAttribute(name);return null!=a&&a}var json=name;return ice.each(el,(function(){for(var name in json)this.setAttribute(name,json[name])}))},ice.delAttr=function(el,name){return el=ice.dom2arr(el),ice.each(el,(function(){this.getAttribute(name)&&this.removeAttribute(name)}))},ice.delCss=function(el,name){function delcss(that,name){var re=new RegExp("\\b"+name+"\\b","g");that.className&&(that.className=that.className.replace(re,""),that.className=that.className.replace(/^\s+|\s+$/g,"").replace(/\s+/g," "),""==that.className&&that.removeAttribute("class"))}return el=ice.dom2arr(el),-1==name.indexOf(" ")?ice.each(el,(function(){delcss(this,name)})):(name=name.split(" "),ice.each(el,(function(){for(var i=0;i<name.length;i++)delcss(this,name[i])})))},ice.click=function(el,fn){return el=ice.dom2arr(el),ice.each(el,(function(i,o){fn?o.onclick=function(e){fn.call(o,i,o,e)}:o.click()}))},ice.dblclick=function(el,fn){return el=ice.dom2arr(el),ice.each(el,(function(i,o){o.ondblclick=function(e){fn.call(o,i,o,e)}}))},ice.change=function(el,fn){return el=ice.dom2arr(el),ice.each(el,(function(i,o){o.onchange=function(e){fn.call(o,i,o,e)}}))},ice.input=function(el,fn){return el=ice.dom2arr(el),ice.each(el,(function(i,o){o.oninput=function(e){fn.call(o,i,o,e)}}))},ice.on=function(el,type,fn,bool){return ice.isWindow(el)||(el=ice.dom2arr(el)),bool=bool,ice.each(el,(function(i,o){o.addEventListener(type,(function(e){fn.call(o,i,o,e)}),bool)}))},ice.trigger=function(el,ev,bubbles,cancelable,composed){ice.isWindow(el)||(el=ice.dom2arr(el));var event=new Event(ev,{bubbles:bubbles,cancelable:cancelable,composed:composed});return ice.each(el,(function(i,o){o.dispatchEvent(event)}))},ice.dom2arr=function(el){return!el||"object"==typeof el&&0===el.length||"array"==typeof el&&0===el.length?[]:(el[0]||(el=[el]),el)},ice.arr2dom=function(el){return!(!el||"object"==typeof el&&0===el.length||"array"==typeof el&&0===el.length)&&(el[0]&&(el=el[0]),el)},ice.find=function(el,name){return el=ice.dom2arr(el),ice(name,el)},ice.children=function(el,name){if(el=ice.dom2arr(el),name)return ice(name,el);var arr=[];return ice.each(el,(function(){ice.each(this.children,(function(){arr.push(this)}))})),ice(arr)},ice.childrens=function(el){el=ice.dom2arr(el);var arr=[];function get(obj){obj.children.length&&ice.each(obj.children,(function(){arr.push(this),get(this)}))}return ice.each(el,(function(){get(this)})),ice(arr)},ice.siblings=function(el,name){el=ice.dom2arr(el);var arr=[];return ice.each(el,(function(){this.parentNode&&ice.each(name?ice(name,this.parentNode):this.parentNode.children,(function(){arr.push(this)}))})),ice(arr)},ice.prev=function(el,name){el=ice.dom2arr(el);var arr=[];return ice.each(el,(function(i,o){var prev=this.previousElementSibling;!name&&prev&&arr.push(prev),name&&ice.each(ice(name,this.parentNode),(function(){this===prev&&arr.push(this)}))})),ice(arr)},ice.next=function(el,name){el=ice.dom2arr(el);var arr=[];return ice.each(el,(function(){var prev=this.nextElementSibling;!name&&prev&&arr.push(prev),name&&ice.each(ice(name,this.parentNode),(function(){this===prev&&arr.push(this)}))})),ice(arr)},ice.parent=function(el){el=ice.dom2arr(el);var arr=[];return ice.each(el,(function(){this.parentNode&&arr.push(this.parentNode)})),ice(arr)},ice.parents=function(el){var arr=[];return el=ice.dom2arr(el),ice.each(el,(function(){for(var p=this.parentNode;p!==document;){var o=p;arr.push(o),p=o.parentNode}})),ice(arr)},ice.addCss=function(el,name){function addcss(that,name){var re=new RegExp("\\b"+name+"\\b","g");that.className?-1==that.className.search(re)&&(that.className+=" "+name):that.className=name,that.className=that.className.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")}return el=ice.dom2arr(el),-1==name.indexOf(" ")?ice.each(el,(function(){addcss(this,name)})):(name=name.split(" "),ice.each(el,(function(){for(var i=0;i<name.length;i++)addcss(this,name[i])})))},ice.hasCss=function(el,name){var css=(el=ice.arr2dom(el)).className;if(!css)return!1;css=css.split(" ");for(var i=0;i<css.length;i++)if(css[i]==name)return!0;return!1},ice.toggleCss=function(el,nameA,nameB,fnA,fnB){return fnA=fnA||function(){},fnB=fnB||function(){},el=ice.dom2arr(el),ice.each(el,(function(i,o){nameB?ice.hasCss(this,nameA)?(ice.delCss(this,nameA),ice.addCss(this,nameB),fnB.call(o,i,o)):(ice.addCss(this,nameA),ice.delCss(this,nameB),fnA.call(o,i,o)):ice.hasCss(this,nameA)?ice.delCss(this,nameA):ice.addCss(this,nameA)}))},ice.prefixZero=function(num,n){return(Array(n).join(0)+num).slice(-n)},ice.time=function(param,format){if(format=format||"y-m-d h:i:s",(param=param||!1)&&new RegExp("(y|m|d|h|i|s)","i").test(param)){var date=new Date;format=param}else if(param){"string"==typeof param&&(param=param.replace(/-/g,"/")),parseInt(param)>1e5&&(param=10===String(param).length?parseInt(param+"000"):parseInt(param));var date=new Date(param)}else var date=new Date;var o={m:"0"+(date.getMonth()+1),d:"0"+date.getDate(),h:"0"+date.getHours(),i:"0"+date.getMinutes(),s:"0"+date.getSeconds()};for(var k in format=format.replace(new RegExp("y","gi"),date.getFullYear()),o)o[k]=o[k].substring(o[k].length-2,o[k].length),format=format.replace(new RegExp(k,"gi"),o[k]);return format},ice.scrollAni=function(el,offset=0,duration=200){for(var s=ice.scroll().y,distance,scrollCount=duration/10,everyDistance=(ice.page(el).y-offset-s)/scrollCount,index=1;index<=scrollCount;index++)setTimeout((function(){window.scrollBy(0,everyDistance)}),10*index)},ice.scrollAnchor=function(el,offset=0,duration=200){if(!el.length)return console.log("ice：scrollAnchor --\x3e锚点的对象不能为空，请检查！");el.each((function(i,e){e.onclick=function(e){ice.sp(),ice.pd();let id=ice(this).attr("href");return ice.scrollAni(ice(id),offset,duration),!1}}))}}();